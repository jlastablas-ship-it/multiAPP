<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplicación Modular Pro - Inspector v2.8.5</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    
    <style>
        :root { --transition-speed: 0.3s; }
        
        body.dark-mode { background-color: #0f172a; color: #f1f5f9; }
        .dark-mode header, .dark-mode nav, .dark-mode aside, .dark-mode footer, .dark-mode .window-card {
            background-color: #1e293b !important; border-color: #334155 !important; color: #f1f5f9 !important;
        }
        .dark-mode main { background-color: #0f172a !important; background-image: radial-gradient(#334155 1px, transparent 1px) !important; }
        .dark-mode .window-header { background-color: #334155 !important; border-bottom-color: #475569 !important; }
        .dark-mode input, .dark-mode .bg-gray-50, .dark-mode .bg-white { background-color: #1e293b !important; color: #f1f5f9 !important; border-color: #334155 !important; }
        
        body { overflow: hidden; height: 100vh; display: flex; flex-direction: column; }
        .collapsible { transition: all var(--transition-speed) ease-in-out; overflow: hidden; position: relative; }
        .collapsed-h { height: 0 !important; min-height: 0 !important; padding: 0 !important; margin: 0 !important; border: 0 !important; }
        .collapsed-w { width: 0 !important; min-width: 0 !important; padding: 0 !important; margin: 0 !important; border: 0 !important; }
        
        .nav-expanded { width: 256px; min-width: 256px; }
        .nav-collapsed { width: 64px; min-width: 64px; }
        .nav-collapsed .nav-text, .nav-collapsed .nav-header-text, .nav-collapsed .win-controls, .nav-collapsed .nav-input-group { display: none !important; }
        
        main { flex: 1; overflow: auto; position: relative; background-image: radial-gradient(#e5e7eb 1px, transparent 1px); background-size: 20px 20px; }
        
        .window-card { position: absolute; width: 600px; height: 450px; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; z-index: 10; overflow: hidden; }
        .window-header { padding: 8px 12px; background: #f8fafc; border-bottom: 1px solid #e2e8f0; cursor: move; display: flex; justify-content: space-between; align-items: center; user-select: none; }
        .window-body { flex: 1; overflow: hidden; position: relative; }
        .window-body iframe { width: 100%; height: 100%; border: none; background: white; }
        
        .window-maximized { top: 0 !important; left: 0 !important; width: 100% !important; height: 100% !important; border-radius: 0; }
        .window-minimized { height: 38px !important; width: auto !important; min-width: 180px; }
        .window-minimized .window-body { display: none; }
        
        .btn-win-tool { @apply p-1 rounded hover:bg-gray-200 transition-colors flex items-center justify-center text-gray-500 hover:text-gray-700; }
        .iframe-overlay { display: none; position: absolute; inset: 0; z-index: 20; }
        .ui-draggable-dragging .iframe-overlay, .ui-resizable-resizing .iframe-overlay { display: block !important; }

        .restore-btn { position: absolute; z-index: 100; background: #4f46e5; color: white; border-radius: 4px; font-size: 10px; font-weight: bold; padding: 4px 8px; text-transform: uppercase; cursor: pointer; display: none; }

        /* Estilos del Inspector Avanzado v2.8.5 */
        .inspector-label { @apply text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1 block; }
        .inspector-value { @apply text-[11px] font-mono bg-gray-100 p-2 rounded mb-3 break-all block dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-700 dark:text-gray-300; }
        .inspector-section-title { @apply text-[10px] font-black mb-4 pb-2 border-b uppercase text-blue-600 flex items-center gap-2; }
        .inspector-btn-primary { @apply w-full py-2 bg-blue-600 text-white font-bold rounded hover:bg-blue-700 transition-all text-[10px] uppercase shadow-sm; }
        .bookmark-card { @apply flex items-center justify-between p-2 bg-white dark:bg-slate-800 border rounded group shadow-sm transition-all hover:border-blue-400; }

        /* DOM Tree Styles */
        .dom-node { @apply pl-3 border-l border-gray-200 dark:border-slate-700 py-0.5; }
        .dom-tag { @apply text-blue-500 font-bold font-mono text-[10px]; }
        .dom-attr { @apply text-purple-500 font-mono text-[9px]; }
        .dom-val { @apply text-green-600 font-mono text-[9px]; }
        .source-code-block { @apply bg-slate-900 text-slate-300 p-3 rounded font-mono text-[9px] overflow-x-auto whitespace-pre border border-slate-700 mt-2; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900" id="app-body">

    <div id="restore-header" onclick="toggleSection('header')" class="restore-btn" style="top: 0; left: 50%; transform: translateX(-50%);">MOSTRAR_CABECERA</div>
    <div id="restore-aside" onclick="toggleSection('aside')" class="restore-btn" style="top: 50%; right: 0; transform: translateY(-50%) rotate(-90deg); transform-origin: right center;">MOSTRAR_INSPECTOR</div>

    <header id="header" class="collapsible flex items-center justify-between px-6 py-3 bg-white border-b shadow-sm min-h-[64px] z-40">
        <h1 class="text-xl font-bold font-mono tracking-tighter text-blue-600 uppercase">Modular_System v5.2.8</h1>
        <div class="flex gap-2">
            <button onclick="toggleDarkMode()" class="text-[10px] font-bold border px-3 py-1 rounded hover:bg-gray-100 uppercase transition-all">MODO_OSCURO</button>
            <button onclick="toggleSection('header')" class="text-[10px] font-bold opacity-50 uppercase border px-2 py-1 rounded">OCULTAR</button>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden relative">
        <nav id="nav" class="collapsible nav-expanded bg-white border-r flex flex-col z-30">
            <div class="p-4 flex justify-between items-center border-b">
                <span class="nav-header-text font-bold text-[10px] text-gray-400 uppercase tracking-widest">Módulos_Activos</span>
                <button onclick="toggleNav()" class="p-1 hover:bg-gray-100 rounded">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg>
                </button>
            </div>

            <div class="p-3 space-y-4">
                <button onclick="scanRemoteServer()" class="w-full py-2 bg-indigo-600 text-white text-[10px] font-bold uppercase rounded shadow hover:bg-indigo-700 transition-all flex items-center justify-center gap-2">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M22 12A10 10 0 1 1 12 2v10z"/><path d="M22 12A10 10 0 0 0 12 2"/></svg>
                    <span class="nav-text">SCAN_SERVER</span>
                </button>

                <div class="nav-input-group space-y-2 border-t pt-4">
                    <span class="text-[9px] font-bold text-gray-400 uppercase block">Inyectar_URL</span>
                    <div class="flex gap-1">
                        <input type="text" id="manual-url" placeholder="https://..." class="w-full text-[10px] p-2 rounded border outline-none">
                        <button onclick="handleManualLoad()" class="p-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="9 18 15 12 9 6"></polyline></svg>
                        </button>
                    </div>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto px-2 py-4 border-t" id="win-links-container"></div>
            
            <div class="p-2 border-t space-y-1">
                <button onclick="openInternalWindow('config')" class="flex items-center gap-3 w-full px-4 py-3 rounded text-blue-500 hover:bg-blue-50 text-xs font-semibold uppercase">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1-2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                    <span class="nav-text">AJUSTES_CORE</span>
                </button>
            </div>
        </nav>

        <main id="main" class="flex-1 bg-white relative">
            <div id="desktop-bg" class="absolute inset-0 pointer-events-none opacity-5 flex items-center justify-center">
                <span class="text-6xl font-black text-gray-400 select-none uppercase tracking-tighter">ENVIRONMENT_WORKER</span>
            </div>
        </main>

        <aside id="aside" class="collapsible w-80 bg-gray-50 border-l flex flex-col z-30">
            <div class="p-4 flex justify-between items-center border-b bg-white">
                <span class="font-bold text-[10px] text-gray-500 uppercase tracking-widest">INSPECTOR_AVANZADO_v2.8.5</span>
                <button onclick="toggleSection('aside')" class="p-1 hover:bg-gray-200 rounded">✕</button>
            </div>
            <div id="inspector-root" class="p-4 flex-1 overflow-y-auto space-y-6">
                <!-- Se rellena dinámicamente -->
            </div>
        </aside>
    </div>

    <footer id="footer" class="collapsible bg-white border-t p-2 flex justify-between items-center text-[10px] font-mono min-h-[32px]">
        <div class="flex gap-4 px-4">
            <span id="storage-status" class="text-green-600 font-bold uppercase">DEXIE_STATUS: READY</span>
            <span id="server-status" class="text-gray-400 uppercase tracking-tighter">SRV: OFF</span>
        </div>
        <div id="loading-indicator" class="hidden animate-pulse text-indigo-600 font-bold mr-4 uppercase tracking-widest">ANALIZANDO_DOM...</div>
    </footer>

    <script>
        const db = new Dexie("AppCore_Inspector_System");
        db.version(1).stores({ 
            settings: "key, value",
            bookmarks: "++id, title, url" 
        });

        const state = {
            activeWindows: [],
            focusedWindowId: null,
            internalOpen: { config: false },
            darkMode: false,
            serverUrl: '',
            relativeRoute: '',
            possibleFilenames: ['index.html', 'main.html']
        };

        async function init() {
            const server = await db.settings.get('serverUrl');
            const route = await db.settings.get('relativeRoute');
            const dark = await db.settings.get('darkMode');

            state.serverUrl = server?.value || '';
            state.relativeRoute = route?.value || '';
            
            if (dark?.value) toggleDarkMode(true);
            updateServerStatusDisplay();
            updateInspector();
        }

        function createWindowCard(title, content, type = 'module') {
            const windowId = `win-${Date.now()}`;
            const cleanTitle = title.replace(/<[^>]*>?/gm, '').trim();

            const html = `
                <div id="${windowId}" class="window-card" data-type="${type}" onclick="focusWindow('${windowId}')">
                    <div class="window-header">
                        <div class="flex items-center min-w-0">
                            <span class="text-[10px] font-black truncate text-gray-600 dark:text-gray-400 uppercase tracking-tight">${cleanTitle}</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <button onclick="toggleMinimize('${windowId}')" class="btn-win-tool">－</button>
                            <button onclick="removeWindow('${windowId}', '${type}')" class="btn-win-tool text-red-500">✕</button>
                        </div>
                    </div>
                    <div class="window-body">
                        <div class="iframe-overlay"></div>
                        ${type === 'config' ? `<div id="content-${windowId}" class="p-6 h-full overflow-auto bg-white dark:bg-slate-900"></div>` : `<iframe id="iframe-${windowId}" src="${content}"></iframe>`}
                    </div>
                </div>
            `;
            
            $('#main').append(html);
            const win = $(`#${windowId}`);
            win.css({ top: (60 + state.activeWindows.length * 20) + 'px', left: (60 + state.activeWindows.length * 20) + 'px' });
            
            win.draggable({ handle: ".window-header", containment: "#main", stack: ".window-card", start: () => focusWindow(windowId) })
               .resizable({ start: () => focusWindow(windowId) });
            
            state.activeWindows.push({ id: windowId, title: cleanTitle, type, url: content });
            updateWindowsNav();
            focusWindow(windowId);
            if (type === 'config') renderConfig(windowId);
        }

        function focusWindow(id) {
            $('.window-card').css('z-index', 10);
            $(`#${id}`).css('z-index', 50);
            state.focusedWindowId = id;
            updateWindowsNav();
            updateInspector();
        }

        /**
         * Inspector v2.8.5 - Explorador DOM y Código Fuente
         */
        async function updateInspector() {
            const win = state.activeWindows.find(w => w.id === state.focusedWindowId);
            const bms = await db.bookmarks.toArray();
            const root = document.getElementById('inspector-root');

            let html = '';

            if (win) {
                let domTree = '<div class="text-[9px] italic opacity-50 py-2">No es posible acceder al DOM (CORS/Seguridad)</div>';
                let rawHtml = 'Acceso denegado.';
                
                try {
                    const iframe = document.getElementById(`iframe-${win.id}`);
                    if (iframe && iframe.contentDocument) {
                        domTree = generateDomTree(iframe.contentDocument.body);
                        rawHtml = iframe.contentDocument.documentElement.outerHTML.substring(0, 1000) + '...';
                    }
                } catch(e) {}

                html += `
                <section class="animate-in fade-in duration-300">
                    <h3 class="inspector-section-title">Contexto de Módulo</h3>
                    <label class="inspector-label">PID_UUID</label>
                    <span class="inspector-value">${win.id}</span>
                    <label class="inspector-label">DESTINO_ACTIVO</label>
                    <span class="inspector-value">${win.url || 'NATIVO_APP'}</span>
                    
                    <button onclick="addBookmarkFromActive()" class="inspector-btn-primary mb-2">ARCHIVAR_RUTA</button>
                    <button onclick="reloadWindow('${win.id}')" class="w-full py-2 bg-gray-200 text-gray-700 font-bold rounded hover:bg-gray-300 text-[10px] uppercase">REFRESH_COMPONENT</button>
                </section>

                <section class="pt-6 border-t border-gray-200">
                    <h3 class="inspector-section-title">Explorador de Árbol DOM</h3>
                    <div class="bg-white dark:bg-slate-900 border rounded p-2 max-h-64 overflow-y-auto overflow-x-hidden">
                        ${domTree}
                    </div>
                </section>

                <section class="pt-6 border-t border-gray-200">
                    <h3 class="inspector-section-title">Source_Preview (Header)</h3>
                    <div class="source-code-block"><code>${escapeHtml(rawHtml)}</code></div>
                </section>
                `;
            } else {
                html += `<div class="text-center py-10 opacity-30 text-[9px] uppercase font-black tracking-widest">Idle_Wait...</div>`;
            }

            // Marcadores (Manteniendo funcionalidad Loader2)
            html += `
            <section class="pt-6 border-t border-gray-200">
                <h3 class="inspector-section-title">Base de Datos de Marcadores</h3>
                <div class="space-y-2 mb-4">
                    <input type="text" id="bm-title" placeholder="ALIAS..." class="w-full p-2 text-[10px] border rounded dark:bg-slate-800 outline-none font-bold uppercase">
                    <input type="text" id="bm-url" placeholder="END_POINT..." class="w-full p-2 text-[10px] border rounded dark:bg-slate-800 outline-none font-mono">
                    <button onclick="saveManualBookmark()" class="inspector-btn-primary">REGISTRAR_URL</button>
                </div>

                <div class="space-y-2">
                    ${bms.map(bm => `
                        <div class="bookmark-card">
                            <div class="truncate flex-1 cursor-pointer" onclick="createWindowCard('${bm.title}', '${bm.url}', 'web')">
                                <div class="font-bold text-[10px] text-gray-800 dark:text-gray-200 uppercase tracking-tighter">${bm.title}</div>
                                <div class="text-[8px] opacity-40 truncate font-mono">${bm.url}</div>
                            </div>
                            <button onclick="deleteBookmark(${bm.id})" class="text-red-400 opacity-0 group-hover:opacity-100 px-2 font-bold text-[10px]">✕</button>
                        </div>
                    `).join('')}
                </div>
            </section>
            `;

            root.innerHTML = html;
        }

        // Generador de árbol DOM recursivo
        function generateDomTree(node) {
            if (!node || node.nodeType !== 1) return "";
            let html = `<div class="dom-node">`;
            html += `<span class="dom-tag">&lt;${node.tagName.toLowerCase()}</span>`;
            
            // Atributos básicos
            if (node.id) html += ` <span class="dom-attr">id=</span><span class="dom-val">"${node.id}"</span>`;
            if (node.className) html += ` <span class="dom-attr">class=</span><span class="dom-val">"${node.className.substring(0, 20)}..."</span>`;
            
            html += `<span class="dom-tag">&gt;</span>`;
            
            // Recursión hijos (limitada para rendimiento)
            if (node.children.length > 0) {
                for (let i = 0; i < Math.min(node.children.length, 5); i++) {
                    html += generateDomTree(node.children[i]);
                }
                if (node.children.length > 5) html += `<div class="pl-4 opacity-30 text-[8px]">... +${node.children.length - 5} nodos</div>`;
            } else {
                const text = node.innerText.trim();
                if (text) html += `<div class="pl-4 text-[9px] text-gray-400 italic truncate">"${text.substring(0, 30)}"</div>`;
            }
            
            html += `<span class="dom-tag">&lt;/${node.tagName.toLowerCase()}&gt;</span>`;
            html += `</div>`;
            return html;
        }

        function escapeHtml(text) {
            const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
            return text.replace(/[&<>"']/g, function(m) { return map[m]; });
        }

        /**
         * Lógica de Persistencia y Ventanas
         */
        async function saveManualBookmark() {
            const title = document.getElementById('bm-title').value.toUpperCase();
            const url = document.getElementById('bm-url').value;
            if (title && url) {
                await db.bookmarks.add({ title, url });
                updateInspector();
            }
        }

        async function addBookmarkFromActive() {
            const win = state.activeWindows.find(w => w.id === state.focusedWindowId);
            if (win && win.url) {
                await db.bookmarks.add({ title: win.title.toUpperCase(), url: win.url });
                updateInspector();
            }
        }

        async function deleteBookmark(id) {
            await db.bookmarks.delete(id);
            updateInspector();
        }

        function handleManualLoad() {
            const url = document.getElementById('manual-url').value;
            if(url) {
                createWindowCard(url.split('/').pop() || 'INJECT_MOD', url, 'web');
                document.getElementById('manual-url').value = '';
            }
        }

        async function scanRemoteServer() {
            if (!state.serverUrl) return openInternalWindow('config');
            $('#loading-indicator').show();
            let fullBase = state.serverUrl.endsWith('/') ? state.serverUrl : state.serverUrl + '/';
            if (state.relativeRoute) fullBase += state.relativeRoute.replace(/^\/|\/$/g, '') + '/';

            const scanPromises = state.possibleFilenames.map(async (filename) => {
                const testUrl = fullBase + filename;
                try {
                    const response = await fetch(testUrl, { method: 'HEAD' });
                    if (response.ok) createWindowCard(`SRV_MOD: ${filename}`, testUrl, 'web');
                } catch (e) {}
            });

            await Promise.allSettled(scanPromises);
            $('#loading-indicator').hide();
        }

        function updateWindowsNav() {
            const container = document.getElementById('win-links-container');
            container.innerHTML = state.activeWindows.map(win => `
                <div class="px-2 mb-1">
                    <button onclick="focusWindow('${win.id}')" class="flex items-center w-full px-4 py-2 text-[10px] truncate rounded transition-all ${state.focusedWindowId === win.id ? 'bg-blue-600 text-white font-bold' : 'hover:bg-gray-100 text-gray-500'}">
                        <span class="truncate uppercase tracking-tight">${win.title}</span>
                    </button>
                </div>
            `).join('');
        }

        function removeWindow(id, type) {
            $(`#${id}`).remove();
            state.activeWindows = state.activeWindows.filter(w => w.id !== id);
            if (type === 'config') state.internalOpen.config = false;
            if (state.focusedWindowId === id) state.focusedWindowId = null;
            updateWindowsNav();
            updateInspector();
        }

        function toggleMinimize(id) { $(`#${id}`).toggleClass('window-minimized'); }
        function toggleSection(id) { 
            const isCollapsing = !$(`#${id}`).hasClass(id === 'header' ? 'collapsed-h' : 'collapsed-w');
            $(`#${id}`).toggleClass(id === 'header' ? 'collapsed-h' : 'collapsed-w'); 
            $(`#restore-${id}`).css('display', isCollapsing ? 'block' : 'none');
        }
        function toggleNav() { $('#nav').toggleClass('nav-expanded nav-collapsed'); }
        
        function toggleDarkMode(isInit = false) {
            state.darkMode = isInit ? true : !state.darkMode;
            $('#app-body').toggleClass('dark-mode', state.darkMode);
            db.settings.put({ key: 'darkMode', value: state.darkMode });
        }

        function updateServerStatusDisplay() {
            const status = document.getElementById('server-status');
            status.innerText = state.serverUrl ? `SRV_TUNNEL: ${state.serverUrl}` : "SRV: OFF";
            status.className = state.serverUrl ? "text-blue-600 font-bold" : "text-gray-400";
        }

        function openInternalWindow(type) {
            if (state.internalOpen[type]) return;
            state.internalOpen[type] = true;
            createWindowCard(type === 'config' ? 'Ajustes Core' : 'Ventana', null, type);
        }

        function reloadWindow(id) {
            const iframe = document.getElementById(`iframe-${id}`);
            if (iframe) iframe.src = iframe.src;
        }

        function renderConfig(winId) {
            const c = document.getElementById(`content-${winId}`);
            c.innerHTML = `
                <div class="max-w-xs mx-auto py-4">
                    <h2 class="text-[10px] font-black uppercase mb-6 text-center text-blue-600 tracking-widest border-b pb-2">Configuración de Estación</h2>
                    <label class="inspector-label">URL_RAIZ_SERVIDOR</label>
                    <input type="text" id="set-server-url" value="${state.serverUrl}" class="w-full p-2 border rounded mb-4 text-[10px] dark:bg-slate-800 font-mono">
                    <label class="inspector-label">PATH_RELATIVO</label>
                    <input type="text" id="set-relative-route" value="${state.relativeRoute}" class="w-full p-2 border rounded mb-4 text-[10px] dark:bg-slate-800 font-mono">
                    <button onclick="saveSettings()" class="w-full py-3 bg-blue-600 text-white font-bold text-[10px] uppercase rounded shadow-lg hover:bg-blue-700 transition-colors">SINCRONIZAR_CONFIG</button>
                </div>
            `;
        }

        async function saveSettings() {
            state.serverUrl = document.getElementById('set-server-url').value;
            state.relativeRoute = document.getElementById('set-relative-route').value;
            await db.settings.put({ key: 'serverUrl', value: state.serverUrl });
            await db.settings.put({ key: 'relativeRoute', value: state.relativeRoute });
            updateServerStatusDisplay();
            alert("Sincronización Completada");
        }

        init();
    </script>
</body>
</html>